<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Running client.jar with CheerpJ (Debug Mode)</title>
  <!-- 1. Load the CheerpJ 4.x loader from the LeaningTech CDN -->
  <script src="https://cjrtnc.leaningtech.com/4.0/loader.js"></script>
  <script>
    async function startJavaApp() {
      try {
        console.log('⏳ Initializing CheerpJ with debug…');
        // Enable advanced runtime logging
        await cheerpjInit({ enableDebug: true });

        console.log('✅ CheerpJ runtime ready');

        // Optional: reserve a display canvas if your app uses Swing/AWT
        // cheerpjCreateDisplay(800, 600);

        console.log('⏳ Launching Java application (with debug)…');
        // Replace 'com.example.Main' with your actual fully-qualified main class
        const exitCode = await cheerpjRunMain(
          'com.example.Main',
          'client.jar',
          { enableDebug: true }
        );
        console.log(`✅ Java application exited with code ${exitCode}`);
      } catch (err) {
        console.error('❌ Uncaught error during startup:', err);
      }
    }

    // Start everything once the page is loaded
    window.addEventListener('load', startJavaApp);
  </script>
</head>
<body>
  <h1>Running client.jar via CheerpJ (Debug Mode)</h1>
  <p>Open your browser’s developer console to see detailed CheerpJ and Java logs.</p>
</body>
</html>
