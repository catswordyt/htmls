<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Running client.jar with CheerpJ</title>
  <script src="https://cjrtnc.leaningtech.com/4.0/loader.js"></script>
  <script>
    async function startJavaApp() {
      try {
        console.log('‚è≥ Initializing CheerpJ‚Ä¶');
        await cheerpjInit();
        console.log('‚úÖ CheerpJ runtime ready');

        // 1) Double‚Äëcheck we can fetch the JAR
        console.log('‚è≥ Fetching client.jar‚Ä¶');
        const response = await fetch('client.jar');
        console.log(
          'üì¶ client.jar fetch',
          'status=', response.status,
          'content-type=', response.headers.get('content-type'),
          'content-length=', response.headers.get('content-length')
        );
        if (!response.ok) {
          throw new Error(`Failed to fetch client.jar: HTTP ${response.status}`);
        }

        // 2) If your app has a GUI, uncomment/adjust this:
        // cheerpjCreateDisplay(800, 600);

        // 3) Let CheerpJ run the JAR (manifest Main‚ÄëClass or explicit)
        console.log('‚è≥ Launching Java application‚Ä¶');
        const exitCode = await cheerpjRunJar('client.jar');
        console.log(`‚úÖ Java application exited with code ${exitCode}`);
      } catch (err) {
        console.error('‚ùå Error during startup:', err);
      }
    }

    window.addEventListener('load', startJavaApp);
  </script>
</head>
<body>
  <h1>Running client.jar via CheerpJ</h1>
  <p>Check your browser‚Äôs developer console for detailed logs.</p>
</body>
</html>

<body>
  <h1>Running client.jar via CheerpJ</h1>
  <p>Open your browser console to watch the app start.</p>
</body>
</html>
